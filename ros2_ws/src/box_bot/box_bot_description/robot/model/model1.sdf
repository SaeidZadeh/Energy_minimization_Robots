<?xml version="1.0" ?>
<sdf version='1.7'>
  <model name='box_bot'>
    <link name='base_link'>
      <inertial>
        <pose>0 0 -0.025 0 -0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>0.000333333</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.000333333</iyy>
          <iyz>0</iyz>
          <izz>0.000333333</izz>
        </inertia>
      </inertial>
      <collision name='base_link_fixed_joint_lump__collision_chassis_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
      </collision>
      <visual name='base_link_fixed_joint_lump__visual_chassis_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
          <material>
          <ambient> 0.49411764705882355 0.11764705882352941 0.611764705882353 1.0 </ambient>
          <shader type='pixel'/>
          </material>

      </visual>
      <sensor name='box_bot_imu' type='imu'>
        <always_on>1</always_on>
        <update_rate>30</update_rate>
        <plugin name='box_bot_imu_plugin' filename='libgazebo_ros_imu_sensor.so'>
          <ros>
            <argument>~/out:=data</argument>
          </ros>
        </plugin>
      </sensor>
    </link>
    <joint name='back_yaw_joint' type='revolute'>
      <pose relative_to='base_link'>-0.04 0 -0.05 0 -0 0</pose>
      <parent>base_link</parent>
      <child>back_yaw_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='back_yaw_link'>
      <pose relative_to='back_yaw_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>5.14583e-09</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>5.14583e-09</iyy>
          <iyz>0</iyz>
          <izz>1.0125e-08</izz>
        </inertia>
      </inertial>
      <collision name='back_yaw_link_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.0045</radius>
          </cylinder>
        </geometry>
      </collision>
    </link>
    <joint name='back_roll_joint' type='revolute'>
      <pose relative_to='back_yaw_link'>0 0 0 0 -0 0</pose>
      <parent>back_yaw_link</parent>
      <child>back_roll_link</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='back_roll_link'>
      <pose relative_to='back_roll_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>5.14583e-09</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>5.14583e-09</iyy>
          <iyz>0</iyz>
          <izz>1.0125e-08</izz>
        </inertia>
      </inertial>
      <collision name='back_roll_link_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.0045</radius>
          </cylinder>
        </geometry>
      </collision>
    </link>
    <joint name='back_pitch_joint' type='revolute'>
      <pose relative_to='back_roll_link'>0 0 0 0 -0 0</pose>
      <parent>back_roll_link</parent>
      <child>back_pitch_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='back_pitch_link'>
      <pose relative_to='back_pitch_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>4e-08</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>4e-08</iyy>
          <iyz>0</iyz>
          <izz>4e-08</izz>
        </inertia>
      </inertial>
      <collision name='back_pitch_link_fixed_joint_lump__back_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <sphere>
            <radius>0.01</radius>
          </sphere>
        </geometry>
      </collision>
      <visual name='back_pitch_link_fixed_joint_lump__back_visual_visual'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <sphere>
            <radius>0.01</radius>
          </sphere>
        </geometry>
      </visual>
    </link>
    <joint name='front_yaw_joint' type='revolute'>
      <pose relative_to='base_link'>0.04 0 -0.05 0 -0 0</pose>
      <parent>base_link</parent>
      <child>front_yaw_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='front_yaw_link'>
      <pose relative_to='front_yaw_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>5.14583e-09</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>5.14583e-09</iyy>
          <iyz>0</iyz>
          <izz>1.0125e-08</izz>
        </inertia>
      </inertial>
      <collision name='front_yaw_link_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.0045</radius>
          </cylinder>
        </geometry>
      </collision>
    </link>
    <joint name='front_roll_joint' type='revolute'>
      <pose relative_to='front_yaw_link'>0 0 0 0 -0 0</pose>
      <parent>front_yaw_link</parent>
      <child>front_roll_link</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='front_roll_link'>
      <pose relative_to='front_roll_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>5.14583e-09</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>5.14583e-09</iyy>
          <iyz>0</iyz>
          <izz>1.0125e-08</izz>
        </inertia>
      </inertial>
      <collision name='front_roll_link_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.0045</radius>
          </cylinder>
        </geometry>
      </collision>
    </link>
    <joint name='front_pitch_joint' type='revolute'>
      <pose relative_to='front_roll_link'>0 0 0 0 -0 0</pose>
      <parent>front_roll_link</parent>
      <child>front_pitch_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>1000</effort>
          <velocity>100</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0.1</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='front_pitch_link'>
      <pose relative_to='front_pitch_joint'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.001</mass>
        <inertia>
          <ixx>4e-08</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>4e-08</iyy>
          <iyz>0</iyz>
          <izz>4e-08</izz>
        </inertia>
      </inertial>
      <collision name='front_pitch_link_fixed_joint_lump__front_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <sphere>
            <radius>0.01</radius>
          </sphere>
        </geometry>
      </collision>
      <visual name='front_pitch_link_fixed_joint_lump__front_visual_visual'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <sphere>
            <radius>0.01</radius>
          </sphere>
        </geometry>
      </visual>
    </link>
    <joint name='joint_left_wheel' type='revolute'>
      <pose relative_to='base_link'>0 -0.05 -0.025 0 -0 0</pose>
      <parent>base_link</parent>
      <child>left_wheel</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>10000</effort>
          <velocity>1000</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='left_wheel'>
      <pose relative_to='joint_left_wheel'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.2</mass>
        <inertia>
          <ixx>3.12667e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>3.12667e-05</iyy>
          <iyz>0</iyz>
          <izz>6.25e-05</izz>
        </inertia>
      </inertial>
      <collision name='left_wheel_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.035</radius>
          </cylinder>
        </geometry>
      </collision>
      <visual name='left_wheel_fixed_joint_lump__link_right_wheel_visual_visual'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.035</radius>
          </cylinder>
        </geometry>
      </visual>
    </link>
    <joint name='joint_right_wheel' type='revolute'>
      <pose relative_to='base_link'>0 0.05 -0.025 0 -0 0</pose>
      <parent>base_link</parent>
      <child>right_wheel</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>10000</effort>
          <velocity>1000</velocity>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='right_wheel'>
      <pose relative_to='joint_right_wheel'>0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0 0 1.5707 1.5707</pose>
        <mass>0.2</mass>
        <inertia>
          <ixx>3.12667e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>3.12667e-05</iyy>
          <iyz>0</iyz>
          <izz>6.25e-05</izz>
        </inertia>
      </inertial>
      <collision name='right_wheel_fixed_joint_lump__link_right_wheel_collision_collision'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.035</radius>
          </cylinder>
        </geometry>
      </collision>
      <visual name='right_wheel_fixed_joint_lump__link_right_wheel_visual_visual'>
        <pose>0 0 0 -1.5707 1.5708 0</pose>
        <geometry>
          <cylinder>
            <length>0.001</length>
            <radius>0.035</radius>
          </cylinder>
        </geometry>
      </visual>
    </link>
    <plugin name='gazebo_ros_control' filename='libgazebo_ros_control.so'>
      <robotNamespace>/box_bot</robotNamespace>
      <robotParam>/robot_description</robotParam>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
    <static>0</static>
    <plugin name='differential_drive_controller' filename='libgazebo_ros_diff_drive.so'>
      <ros/>
      <left_joint>joint_right_wheel</left_joint>
      <right_joint>joint_left_wheel</right_joint>
      <wheel_separation>0.1</wheel_separation>
      <wheel_diameter>0.025</wheel_diameter>
      <max_wheel_torque>0.1</max_wheel_torque>
      <max_wheel_acceleration>1.0</max_wheel_acceleration>
      <publish_odom>1</publish_odom>
      <publish_odom_tf>1</publish_odom_tf>
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>chassis</robot_base_frame>
    </plugin>
    <plugin name='box_bot_joint_state' filename='libgazebo_ros_joint_state_publisher.so'>
      <ros>
        <remapping>~/out:=joint_states</remapping>
      </ros>
      <update_rate>30</update_rate>
      <joint_name>wheel_left_joint</joint_name>
      <joint_name>wheel_right_joint</joint_name>
    </plugin>
  </model>
</sdf>
